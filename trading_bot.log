2025-10-03 17:28:18,684 - root - ERROR - Bot startup error
Traceback (most recent call last):
  File "/workspace/start_bot.py", line 49, in run_bot_with_optimized_settings
    from trading_bot import TradingBot
ImportError: cannot import name 'TradingBot' from 'trading_bot' (/workspace/trading_bot.py)
2025-10-03 17:28:48,599 - root - ERROR - Bot startup error
Traceback (most recent call last):
  File "/workspace/start_bot.py", line 56, in run_bot_with_optimized_settings
    bot.api_manager.rate_limit_config.update(rate_limits)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'rate_limit_config'
2025-10-03 17:29:15,323 - root - ERROR - Bot startup error
Traceback (most recent call last):
  File "/workspace/start_bot.py", line 58, in run_bot_with_optimized_settings
    await bot.run()
          ^^^^^^^
AttributeError: 'TradingBotController' object has no attribute 'run'
2025-10-03 17:29:58,515 - BotCore - INFO - üöÄ Starting Trading Bot (cycle interval: 60 minutes)
2025-10-03 17:29:58,516 - BotCore - INFO - üöÄ Initializing Trading Bot...
2025-10-03 17:29:58,517 - BotCore - INFO - ‚úÖ Database initialized at trading_bot.db
2025-10-03 17:30:01,081 - RLAgent - INFO - ƒê√£ t·∫°o PPO model
2025-10-03 17:30:01,082 - BotCore - INFO - ü§ñ RL Agent initialized successfully
2025-10-03 17:30:01,082 - BotCore - INFO - ‚úÖ Trading Bot initialized successfully
2025-10-03 17:30:01,761 - Discord - INFO - Discord notification sent successfully
2025-10-03 17:30:02,769 - BotCore - INFO - üéì Checking AI model training status...
2025-10-03 17:30:02,769 - BotCore - INFO - üìä Fetching historical data for initial training...
2025-10-03 17:30:02,775 - DataManager - INFO - Fetching XAUUSD (XAU_USD) H1 data from OANDA...
2025-10-03 17:30:03,509 - DataManager - INFO - ƒê√£ l·∫•y 499 candles cho XAUUSD H1
2025-10-03 17:30:03,510 - BotCore - INFO - üìà Fetched 499 historical records for XAUUSD
2025-10-03 17:30:03,510 - DataManager - INFO - Fetching EURUSD (EUR_USD) H1 data from OANDA...
2025-10-03 17:30:03,511 - BotCore - WARNING - Rate limit cho oanda, ch·ªù 1.5s...
2025-10-03 17:30:03,511 - DataManager - WARNING - Kh√¥ng th·ªÉ l·∫•y d·ªØ li·ªáu cho EURUSD (EUR_USD) H1
2025-10-03 17:30:03,511 - DataManager - WARNING - OANDA variants cho EURUSD th·∫•t b·∫°i, th·ª≠ alternative APIs...
2025-10-03 17:30:03,511 - DataManager - INFO - üîç Fetching EURUSD via alternative data sources...
2025-10-03 17:30:03,511 - DataManager - INFO - Fetching EURUSD t·ª´ Yahoo Finance (simulation)...
2025-10-03 17:30:03,520 - DataManager - INFO - ‚úÖ Mock data created cho EURUSD: 100 candles
2025-10-03 17:30:03,520 - BotCore - INFO - üìà Fetched 100 historical records for EURUSD
2025-10-03 17:30:03,523 - BotCore - INFO - ü§ñ Training ensemble model...
2025-10-03 17:30:03,534 - MasterAgent - INFO - üéì Training AI models cho XAUUSD v·ªõi 499 data points...
2025-10-03 17:58:46,980 - EnsembleModel - INFO - Best xgboost params: {'max_depth': 3, 'learning_rate': 0.06148911475296508, 'n_estimators': 286, 'subsample': 0.6470995178117097, 'colsample_bytree': 0.7312893067595283}
2025-10-03 17:58:46,990 - EnsembleModel - INFO - Ho√†n th√†nh optimization cho xgboost
2025-10-03 17:59:30,551 - EnsembleModel - INFO - Best lightgbm params: {'num_leaves': 10, 'max_depth': 7, 'learning_rate': 0.2595771748446464, 'n_estimators': 352, 'subsample': 0.6873892642652978, 'colsample_bytree': 0.6771641966309047, 'min_child_samples': 46, 'min_data_in_leaf': 48, 'min_sum_hessian_in_leaf': 0.6940679485116531, 'max_bin': 134}
2025-10-03 17:59:30,556 - EnsembleModel - INFO - Ho√†n th√†nh optimization cho lightgbm
2025-10-03 18:04:12,128 - EnsembleModel - INFO - Best random_forest params: {'n_estimators': 462, 'max_depth': 9, 'min_samples_split': 19, 'min_samples_leaf': 9, 'max_features': 'sqrt'}
2025-10-03 18:04:12,130 - EnsembleModel - INFO - Ho√†n th√†nh optimization cho random_forest
2025-10-03 18:04:14,794 - EnsembleModel - INFO - S·ª≠ d·ª•ng calibrated model cho xgboost
2025-10-03 18:04:14,867 - EnsembleModel - INFO - Ho√†n th√†nh training xgboost
2025-10-03 18:04:15,249 - EnsembleModel - INFO - S·ª≠ d·ª•ng calibrated model cho lightgbm
2025-10-03 18:04:15,284 - EnsembleModel - INFO - Ho√†n th√†nh training lightgbm
2025-10-03 18:04:17,919 - EnsembleModel - INFO - S·ª≠ d·ª•ng calibrated model cho random_forest
2025-10-03 18:04:17,991 - EnsembleModel - INFO - Ho√†n th√†nh training random_forest
2025-10-03 18:04:18,004 - EnsembleModel - INFO - Ho√†n th√†nh ensemble training
2025-10-03 18:04:22,221 - EnsembleModel - INFO - Ensemble CV scores - Accuracy: 0.588, F1: 0.094
2025-10-03 18:04:23,037 - EnsembleModel - INFO - ‚úÖ Ensemble model saved to test_ensemble_model.pkl
2025-10-03 18:04:23,483 - EnsembleModel - INFO - ‚úÖ Ensemble model loaded from test_ensemble_model.pkl
2025-10-03 18:04:23,868 - EnsembleModel - INFO - Training data shapes: X_seq=(190, 10, 3), y_seq=(190, 1)
2025-10-03 18:04:23,868 - EnsembleModel - ERROR - Model training error: 'NoneType' object has no attribute 'fit'
2025-10-03 18:04:23,869 - EnsembleModel - WARNING - No LSTM model to save
2025-10-03 18:07:23,713 - EnsembleModel - INFO - Best xgboost params: {'max_depth': 3, 'learning_rate': 0.011945948560273811, 'n_estimators': 190, 'subsample': 0.6398806839717089, 'colsample_bytree': 0.7210107944009209}
2025-10-03 18:07:23,714 - EnsembleModel - INFO - Ho√†n th√†nh optimization cho xgboost
2025-10-03 18:08:00,724 - EnsembleModel - INFO - Best lightgbm params: {'num_leaves': 80, 'max_depth': 8, 'learning_rate': 0.2123485676519442, 'n_estimators': 806, 'subsample': 0.9608912927570941, 'colsample_bytree': 0.9642629324860832, 'min_child_samples': 46, 'min_data_in_leaf': 32, 'min_sum_hessian_in_leaf': 0.11000342664790698, 'max_bin': 193}
2025-10-03 18:08:00,729 - EnsembleModel - INFO - Ho√†n th√†nh optimization cho lightgbm
2025-10-03 18:10:39,405 - EnsembleModel - INFO - Best random_forest params: {'n_estimators': 109, 'max_depth': 14, 'min_samples_split': 14, 'min_samples_leaf': 10, 'max_features': 'sqrt'}
2025-10-03 18:10:39,406 - EnsembleModel - INFO - Ho√†n th√†nh optimization cho random_forest
2025-10-03 18:10:40,705 - EnsembleModel - INFO - S·ª≠ d·ª•ng calibrated model cho xgboost
2025-10-03 18:10:40,840 - EnsembleModel - INFO - Ho√†n th√†nh training xgboost
2025-10-03 18:10:42,241 - EnsembleModel - INFO - S·ª≠ d·ª•ng calibrated model cho lightgbm
2025-10-03 18:10:42,310 - EnsembleModel - INFO - Ho√†n th√†nh training lightgbm
2025-10-03 18:10:43,007 - EnsembleModel - INFO - S·ª≠ d·ª•ng calibrated model cho random_forest
2025-10-03 18:10:43,051 - EnsembleModel - INFO - Ho√†n th√†nh training random_forest
2025-10-03 18:10:43,076 - EnsembleModel - INFO - Ho√†n th√†nh ensemble training
2025-10-03 18:10:45,683 - EnsembleModel - INFO - Ensemble CV scores - Accuracy: 0.588, F1: 0.094
2025-10-03 18:10:46,020 - EnsembleModel - INFO - ‚úÖ Ensemble model saved to test_ensemble_model.pkl
2025-10-03 18:10:46,280 - EnsembleModel - INFO - ‚úÖ Ensemble model loaded from test_ensemble_model.pkl
2025-10-03 18:10:46,549 - EnsembleModel - INFO - Training data shapes: X_seq=(190, 10, 3), y_seq=(190, 1)
2025-10-03 18:10:46,550 - EnsembleModel - ERROR - Model not built, cannot train
2025-10-03 18:10:46,550 - EnsembleModel - WARNING - No LSTM model to save
2025-10-03 18:14:17,287 - EnsembleModel - INFO - Best xgboost params: {'max_depth': 5, 'learning_rate': 0.010739750415109384, 'n_estimators': 191, 'subsample': 0.6055108173718674, 'colsample_bytree': 0.640511949978695}
2025-10-03 18:14:17,290 - EnsembleModel - INFO - Ho√†n th√†nh optimization cho xgboost
2025-10-03 18:15:05,575 - EnsembleModel - INFO - Best lightgbm params: {'num_leaves': 89, 'max_depth': 7, 'learning_rate': 0.06973391323999178, 'n_estimators': 731, 'subsample': 0.9720199838078875, 'colsample_bytree': 0.6602388949164928, 'min_child_samples': 55, 'min_data_in_leaf': 8, 'min_sum_hessian_in_leaf': 0.9587305789656151, 'max_bin': 98}
2025-10-03 18:15:05,578 - EnsembleModel - INFO - Ho√†n th√†nh optimization cho lightgbm
2025-10-03 18:18:23,645 - EnsembleModel - INFO - Best random_forest params: {'n_estimators': 102, 'max_depth': 11, 'min_samples_split': 9, 'min_samples_leaf': 5, 'max_features': 'log2'}
2025-10-03 18:18:23,647 - EnsembleModel - INFO - Ho√†n th√†nh optimization cho random_forest
2025-10-03 18:18:25,550 - EnsembleModel - INFO - S·ª≠ d·ª•ng calibrated model cho xgboost
2025-10-03 18:18:25,654 - EnsembleModel - INFO - Ho√†n th√†nh training xgboost
2025-10-03 18:18:27,895 - EnsembleModel - INFO - S·ª≠ d·ª•ng calibrated model cho lightgbm
2025-10-03 18:18:27,960 - EnsembleModel - INFO - Ho√†n th√†nh training lightgbm
2025-10-03 18:18:28,595 - EnsembleModel - INFO - S·ª≠ d·ª•ng calibrated model cho random_forest
2025-10-03 18:18:28,612 - EnsembleModel - INFO - Ho√†n th√†nh training random_forest
2025-10-03 18:18:28,618 - EnsembleModel - INFO - Ho√†n th√†nh ensemble training
2025-10-03 18:18:32,665 - EnsembleModel - INFO - Ensemble CV scores - Accuracy: 0.588, F1: 0.094
2025-10-03 18:18:33,027 - EnsembleModel - INFO - ‚úÖ Ensemble model saved to test_ensemble_model.pkl
2025-10-03 18:18:33,290 - EnsembleModel - INFO - ‚úÖ Ensemble model loaded from test_ensemble_model.pkl
2025-10-03 18:18:33,654 - EnsembleModel - INFO - Training data shapes: X_seq=(190, 10, 3), y_seq=(190, 1)
2025-10-03 18:18:33,654 - EnsembleModel - ERROR - Model not built, cannot train
2025-10-03 18:18:33,654 - EnsembleModel - WARNING - No LSTM model to save
2025-10-03 18:19:28,609 - EnsembleModel - INFO - Training data shapes: X_seq=(190, 10, 3), y_seq=(190, 1)
2025-10-03 18:19:28,609 - EnsembleModel - ERROR - Model not built, cannot train
2025-10-03 18:19:46,685 - EnsembleModel - INFO - Training data shapes: X_seq=(190, 10, 3), y_seq=(190, 1)
2025-10-03 18:19:46,686 - EnsembleModel - ERROR - Model not built, cannot train
2025-10-03 18:20:13,840 - EnsembleModel - INFO - Building LSTM model with feature_dim=3
2025-10-03 18:20:14,759 - EnsembleModel - INFO - ƒê√£ x√¢y d·ª±ng ki·∫øn tr√∫c LSTM v·ªõi Attention
2025-10-03 18:20:14,824 - EnsembleModel - INFO - Training data shapes: X_seq=(190, 10, 3), y_seq=(190, 1)
2025-10-03 18:20:42,708 - EnsembleModel - INFO - LSTM Training completed - Val Acc: 0.421, Val Loss: 0.694
2025-10-03 18:24:01,601 - EnsembleModel - INFO - Best xgboost params: {'max_depth': 5, 'learning_rate': 0.08158294202498631, 'n_estimators': 108, 'subsample': 0.6771401444594011, 'colsample_bytree': 0.7575895211053526}
2025-10-03 18:24:01,603 - EnsembleModel - INFO - Ho√†n th√†nh optimization cho xgboost
2025-10-03 18:24:45,498 - EnsembleModel - INFO - Best lightgbm params: {'num_leaves': 17, 'max_depth': 3, 'learning_rate': 0.14544769439371105, 'n_estimators': 968, 'subsample': 0.8083510498575709, 'colsample_bytree': 0.9361206589520361, 'min_child_samples': 71, 'min_data_in_leaf': 36, 'min_sum_hessian_in_leaf': 0.8654688907833061, 'max_bin': 82}
2025-10-03 18:24:45,500 - EnsembleModel - INFO - Ho√†n th√†nh optimization cho lightgbm
2025-10-03 18:27:49,570 - EnsembleModel - INFO - Best random_forest params: {'n_estimators': 344, 'max_depth': 14, 'min_samples_split': 9, 'min_samples_leaf': 1, 'max_features': 'sqrt'}
2025-10-03 18:27:49,572 - EnsembleModel - INFO - Ho√†n th√†nh optimization cho random_forest
2025-10-03 18:27:50,951 - EnsembleModel - INFO - S·ª≠ d·ª•ng calibrated model cho xgboost
2025-10-03 18:27:51,084 - EnsembleModel - INFO - Ho√†n th√†nh training xgboost
2025-10-03 18:27:51,800 - EnsembleModel - INFO - S·ª≠ d·ª•ng calibrated model cho lightgbm
2025-10-03 18:27:51,841 - EnsembleModel - INFO - Ho√†n th√†nh training lightgbm
2025-10-03 18:27:54,273 - EnsembleModel - INFO - S·ª≠ d·ª•ng calibrated model cho random_forest
2025-10-03 18:27:54,368 - EnsembleModel - INFO - Ho√†n th√†nh training random_forest
2025-10-03 18:27:54,393 - EnsembleModel - INFO - Ho√†n th√†nh ensemble training
2025-10-03 18:27:58,075 - EnsembleModel - INFO - Ensemble CV scores - Accuracy: 0.588, F1: 0.094
2025-10-03 18:27:58,642 - EnsembleModel - INFO - ‚úÖ Ensemble model saved to test_ensemble_model.pkl
2025-10-03 18:27:59,181 - EnsembleModel - INFO - ‚úÖ Ensemble model loaded from test_ensemble_model.pkl
2025-10-03 18:27:59,521 - EnsembleModel - INFO - Building LSTM model with feature_dim=3
2025-10-03 18:28:00,091 - EnsembleModel - INFO - ƒê√£ x√¢y d·ª±ng ki·∫øn tr√∫c LSTM v·ªõi Attention
2025-10-03 18:28:00,096 - EnsembleModel - INFO - Training data shapes: X_seq=(190, 10, 3), y_seq=(190, 1)
2025-10-03 18:28:26,561 - EnsembleModel - INFO - LSTM Training completed - Val Acc: 0.447, Val Loss: 0.693
2025-10-03 18:28:26,566 - absl - WARNING - You are saving your model as an HDF5 file via `model.save()` or `keras.saving.save_model(model)`. This file format is considered legacy. We recommend using instead the native Keras format, e.g. `model.save('my_model.keras')` or `keras.saving.save_model(model, 'my_model.keras')`. 
2025-10-03 18:28:26,796 - EnsembleModel - INFO - ‚úÖ LSTM model saved to test_lstm_model.h5
2025-10-03 18:28:27,057 - absl - WARNING - Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.
2025-10-03 18:28:27,075 - EnsembleModel - INFO - ‚úÖ LSTM model loaded from test_lstm_model.h5
2025-10-03 20:05:12,390 - BotCore - INFO - üîç Checking for existing trained models...
2025-10-03 20:05:12,392 - BotCore - INFO - üéØ Model loading completed!
2025-10-03 20:05:12,392 - BotCore - INFO - üöÄ Starting Trading Bot (cycle interval: 60 minutes)
2025-10-03 20:05:12,392 - BotCore - INFO - üöÄ Initializing Trading Bot...
2025-10-03 20:05:12,395 - BotCore - INFO - ‚úÖ Database initialized at trading_bot.db
2025-10-03 20:05:15,757 - RLAgent - INFO - ƒê√£ t·∫°o PPO model
2025-10-03 20:05:15,758 - BotCore - INFO - ü§ñ RL Agent initialized successfully
2025-10-03 20:05:15,758 - BotCore - INFO - ‚úÖ Trading Bot initialized successfully
2025-10-03 20:05:16,009 - Discord - INFO - Discord notification sent successfully
2025-10-03 20:05:17,013 - BotCore - INFO - üéì Checking AI model training status...
2025-10-03 20:05:17,013 - BotCore - INFO - üìä Fetching historical data for initial training...
2025-10-03 20:05:17,014 - DataManager - INFO - Fetching XAUUSD (XAU_USD) H1 data from OANDA...
2025-10-03 20:05:17,752 - DataManager - INFO - ƒê√£ l·∫•y 499 candles cho XAUUSD H1
2025-10-03 20:05:17,753 - BotCore - INFO - üìà Fetched 499 historical records for XAUUSD
2025-10-03 20:05:17,753 - DataManager - INFO - Fetching EURUSD (EUR_USD) H1 data from OANDA...
2025-10-03 20:05:17,753 - BotCore - WARNING - Rate limit cho oanda, ch·ªù 1.4s...
2025-10-03 20:05:17,753 - DataManager - WARNING - Kh√¥ng th·ªÉ l·∫•y d·ªØ li·ªáu cho EURUSD (EUR_USD) H1
2025-10-03 20:05:17,753 - DataManager - WARNING - OANDA variants cho EURUSD th·∫•t b·∫°i, th·ª≠ alternative APIs...
2025-10-03 20:05:17,753 - DataManager - INFO - üîç Fetching EURUSD via alternative data sources...
2025-10-03 20:05:17,753 - DataManager - INFO - Fetching EURUSD t·ª´ Yahoo Finance (simulation)...
2025-10-03 20:05:17,761 - DataManager - INFO - ‚úÖ Mock data created cho EURUSD: 100 candles
2025-10-03 20:05:17,761 - BotCore - INFO - üìà Fetched 100 historical records for EURUSD
2025-10-03 20:05:17,763 - BotCore - INFO - ü§ñ Training ensemble model...
2025-10-03 20:05:17,788 - MasterAgent - INFO - üéì Training AI models cho XAUUSD v·ªõi 499 data points...
2025-10-03 20:13:02,810 - EnsembleModel - INFO - Best xgboost params: {'max_depth': 4, 'learning_rate': 0.09097288962969113, 'n_estimators': 598, 'subsample': 0.8486541208851428, 'colsample_bytree': 0.7523806841380568}
2025-10-03 20:13:02,816 - EnsembleModel - INFO - Ho√†n th√†nh optimization cho xgboost
2025-10-03 20:15:51,073 - EnsembleModel - INFO - Best lightgbm params: {'num_leaves': 100, 'max_depth': 6, 'learning_rate': 0.19854001954124492, 'n_estimators': 650, 'subsample': 0.7240331594324465, 'colsample_bytree': 0.9430580136623112, 'min_child_samples': 57, 'min_data_in_leaf': 16, 'min_sum_hessian_in_leaf': 0.7381748704437119, 'max_bin': 83}
2025-10-03 20:15:51,074 - EnsembleModel - INFO - Ho√†n th√†nh optimization cho lightgbm
2025-10-03 20:18:41,692 - EnsembleModel - INFO - Best random_forest params: {'n_estimators': 228, 'max_depth': 7, 'min_samples_split': 10, 'min_samples_leaf': 8, 'max_features': 'log2'}
2025-10-03 20:18:41,693 - EnsembleModel - INFO - Ho√†n th√†nh optimization cho random_forest
2025-10-03 20:18:50,367 - EnsembleModel - INFO - S·ª≠ d·ª•ng calibrated model cho xgboost
2025-10-03 20:18:50,486 - EnsembleModel - INFO - Ho√†n th√†nh training xgboost
2025-10-03 20:18:54,639 - EnsembleModel - INFO - S·ª≠ d·ª•ng calibrated model cho lightgbm
2025-10-03 20:18:54,763 - EnsembleModel - INFO - Ho√†n th√†nh training lightgbm
2025-10-03 20:18:57,175 - EnsembleModel - INFO - S·ª≠ d·ª•ng calibrated model cho random_forest
2025-10-03 20:18:57,265 - EnsembleModel - INFO - Ho√†n th√†nh training random_forest
2025-10-03 20:18:57,276 - EnsembleModel - INFO - Ho√†n th√†nh ensemble training
2025-10-03 20:19:09,338 - EnsembleModel - INFO - Ensemble CV scores - Accuracy: 0.548, F1: 0.506
2025-10-03 20:19:09,343 - MasterAgent - INFO - ‚úÖ Ensemble training completed - Accuracy: 0.548
2025-10-03 20:19:10,021 - EnsembleModel - INFO - ‚úÖ Ensemble model saved to ensemble_model_XAUUSD.pkl
2025-10-03 20:19:10,025 - MasterAgent - INFO - üíæ Ensemble model saved for XAUUSD
2025-10-03 20:19:10,026 - EnsembleModel - INFO - LSTM feature dimension set to 4
2025-10-03 20:19:10,817 - EnsembleModel - INFO - ƒê√£ x√¢y d·ª±ng ki·∫øn tr√∫c LSTM v·ªõi Attention
2025-10-03 20:19:10,824 - EnsembleModel - INFO - Training data shapes: X_seq=(448, 50, 4), y_seq=(448, 1)
2025-10-03 20:19:10,918 - EnsembleModel - ERROR - Model training error: [Errno 32] Broken pipe
2025-10-03 20:19:10,919 - MasterAgent - INFO - ‚úÖ LSTM training completed - Validation Accuracy: 0.000
2025-10-03 20:19:10,919 - absl - WARNING - You are saving your model as an HDF5 file via `model.save()` or `keras.saving.save_model(model)`. This file format is considered legacy. We recommend using instead the native Keras format, e.g. `model.save('my_model.keras')` or `keras.saving.save_model(model, 'my_model.keras')`. 
2025-10-03 20:19:11,074 - EnsembleModel - INFO - ‚úÖ LSTM model saved to lstm_model_XAUUSD.h5
2025-10-03 20:19:11,075 - MasterAgent - INFO - üíæ LSTM model saved for XAUUSD
2025-10-03 20:19:11,075 - BotCore - INFO - üß† Training LSTM model...
2025-10-03 20:19:11,095 - BotCore - INFO - Training LSTM model with XAUUSD: features shape=(499, 5), targets shape=(499,)
2025-10-03 20:19:11,096 - EnsembleModel - INFO - LSTM feature dimension changed from 4 to 5, rebuilding model
2025-10-03 20:19:11,506 - EnsembleModel - INFO - ƒê√£ x√¢y d·ª±ng ki·∫øn tr√∫c LSTM v·ªõi Attention
2025-10-03 20:19:11,520 - EnsembleModel - INFO - Training data shapes: X_seq=(449, 50, 5), y_seq=(449, 1)
2025-10-03 20:19:11,636 - EnsembleModel - ERROR - Model training error: [Errno 32] Broken pipe
2025-10-03 20:19:11,637 - BotCore - WARNING - Training failed for XAUUSD: {'error': 'Training failed: [Errno 32] Broken pipe'}
2025-10-03 20:19:11,637 - BotCore - INFO - üéì Initial model training completed!
2025-10-03 20:19:11,641 - RiskManager - INFO - Real-time monitoring started
2025-10-03 20:19:11,642 - BotCore - INFO - üìà Starting trading cycle #1
2025-10-03 20:19:12,144 - DataManager - INFO - Fetching XAUUSD (XAU_USD) M15 data from OANDA...
2025-10-03 20:19:12,858 - DataManager - INFO - ƒê√£ l·∫•y 499 candles cho XAUUSD M15
2025-10-03 20:19:13,860 - DataManager - INFO - Fetching XAUUSD (XAU_USD) H4 data from OANDA...
2025-10-03 20:19:13,861 - BotCore - WARNING - Rate limit cho oanda, ch·ªù 0.5s...
2025-10-03 20:19:13,861 - DataManager - WARNING - Kh√¥ng th·ªÉ l·∫•y d·ªØ li·ªáu cho XAUUSD (XAU_USD) H4
2025-10-03 20:19:13,861 - DataManager - WARNING - OANDA variants cho XAUUSD th·∫•t b·∫°i, th·ª≠ alternative APIs...
2025-10-03 20:19:13,861 - DataManager - INFO - üîç Fetching XAUUSD via alternative data sources...
2025-10-03 20:19:13,861 - DataManager - INFO - Fetching XAUUSD (XAU) t·ª´ Alpha Vantage...
2025-10-03 20:19:14,486 - DataManager - INFO - Fetching XAUUSD (XAU_USD) D1 data from OANDA...
2025-10-03 20:19:15,180 - DataManager - INFO - ƒê√£ l·∫•y 499 candles cho XAUUSD D1
2025-10-03 20:19:15,681 - DataManager - INFO - Fetching EURUSD (EUR_USD) M15 data from OANDA...
2025-10-03 20:19:15,681 - BotCore - WARNING - Rate limit cho oanda, ch·ªù 0.9s...
2025-10-03 20:19:15,682 - DataManager - WARNING - Kh√¥ng th·ªÉ l·∫•y d·ªØ li·ªáu cho EURUSD (EUR_USD) M15
2025-10-03 20:19:15,682 - DataManager - WARNING - OANDA variants cho EURUSD th·∫•t b·∫°i, th·ª≠ alternative APIs...
2025-10-03 20:19:15,682 - DataManager - INFO - üîç Fetching EURUSD via alternative data sources...
2025-10-03 20:19:15,682 - DataManager - INFO - Fetching EURUSD t·ª´ Yahoo Finance (simulation)...
2025-10-03 20:19:15,686 - DataManager - INFO - ‚úÖ Mock data created cho EURUSD: 100 candles
2025-10-03 20:19:16,188 - DataManager - INFO - Fetching EURUSD (EUR_USD) H1 data from OANDA...
2025-10-03 20:19:16,188 - BotCore - WARNING - Rate limit cho oanda, ch·ªù 0.4s...
2025-10-03 20:19:16,188 - DataManager - WARNING - Kh√¥ng th·ªÉ l·∫•y d·ªØ li·ªáu cho EURUSD (EUR_USD) H1
2025-10-03 20:19:16,188 - DataManager - WARNING - OANDA variants cho EURUSD th·∫•t b·∫°i, th·ª≠ alternative APIs...
2025-10-03 20:19:16,188 - DataManager - INFO - üîç Fetching EURUSD via alternative data sources...
2025-10-03 20:19:16,188 - DataManager - INFO - Fetching EURUSD t·ª´ Yahoo Finance (simulation)...
2025-10-03 20:19:16,191 - DataManager - INFO - ‚úÖ Mock data created cho EURUSD: 100 candles
2025-10-03 20:19:16,695 - DataManager - INFO - Fetching EURUSD (EUR_USD) H4 data from OANDA...
2025-10-03 20:19:17,289 - DataManager - INFO - ƒê√£ l·∫•y 499 candles cho EURUSD H4
2025-10-03 20:19:17,793 - DataManager - INFO - Fetching EURUSD (EUR_USD) D1 data from OANDA...
2025-10-03 20:19:17,794 - BotCore - WARNING - Rate limit cho oanda, ch·ªù 1.0s...
2025-10-03 20:19:17,794 - DataManager - WARNING - Kh√¥ng th·ªÉ l·∫•y d·ªØ li·ªáu cho EURUSD (EUR_USD) D1
2025-10-03 20:19:17,794 - DataManager - WARNING - OANDA variants cho EURUSD th·∫•t b·∫°i, th·ª≠ alternative APIs...
2025-10-03 20:19:17,794 - DataManager - INFO - üîç Fetching EURUSD via alternative data sources...
2025-10-03 20:19:17,794 - DataManager - INFO - Fetching EURUSD t·ª´ Yahoo Finance (simulation)...
2025-10-03 20:19:17,799 - DataManager - INFO - ‚úÖ Mock data created cho EURUSD: 100 candles
2025-10-03 20:19:18,300 - DataManager - INFO - Fetching NAS100 (NAS100_USD) M15 data from OANDA...
2025-10-03 20:19:18,300 - BotCore - WARNING - Rate limit cho oanda, ch·ªù 0.5s...
2025-10-03 20:19:18,300 - DataManager - WARNING - Kh√¥ng th·ªÉ l·∫•y d·ªØ li·ªáu cho NAS100 (NAS100_USD) M15
2025-10-03 20:19:18,300 - DataManager - WARNING - OANDA variants cho NAS100 th·∫•t b·∫°i, th·ª≠ alternative APIs...
2025-10-03 20:19:18,300 - DataManager - INFO - üîç Fetching NAS100 via alternative data sources...
2025-10-03 20:19:18,301 - DataManager - INFO - Fetching NAS100 t·ª´ Yahoo Finance (simulation)...
2025-10-03 20:19:18,307 - DataManager - INFO - ‚úÖ Mock data created cho NAS100: 100 candles
2025-10-03 20:19:18,808 - DataManager - INFO - Fetching NAS100 (NAS100_USD) H1 data from OANDA...
2025-10-03 20:19:18,808 - BotCore - WARNING - Rate limit cho oanda, ch·ªù 0.0s...
2025-10-03 20:19:18,808 - DataManager - WARNING - Kh√¥ng th·ªÉ l·∫•y d·ªØ li·ªáu cho NAS100 (NAS100_USD) H1
2025-10-03 20:19:18,808 - DataManager - WARNING - OANDA variants cho NAS100 th·∫•t b·∫°i, th·ª≠ alternative APIs...
2025-10-03 20:19:18,809 - DataManager - INFO - üîç Fetching NAS100 via alternative data sources...
2025-10-03 20:19:18,809 - DataManager - INFO - Fetching NAS100 t·ª´ Yahoo Finance (simulation)...
2025-10-03 20:19:18,815 - DataManager - INFO - ‚úÖ Mock data created cho NAS100: 100 candles
2025-10-03 20:19:19,316 - DataManager - INFO - Fetching NAS100 (NAS100_USD) H4 data from OANDA...
2025-10-03 20:19:20,028 - DataManager - INFO - ƒê√£ l·∫•y 499 candles cho NAS100 H4
2025-10-03 20:19:20,533 - DataManager - INFO - Fetching NAS100 (NAS100_USD) D1 data from OANDA...
2025-10-03 20:19:20,534 - BotCore - WARNING - Rate limit cho oanda, ch·ªù 0.9s...
2025-10-03 20:19:20,534 - DataManager - WARNING - Kh√¥ng th·ªÉ l·∫•y d·ªØ li·ªáu cho NAS100 (NAS100_USD) D1
2025-10-03 20:19:20,534 - DataManager - WARNING - OANDA variants cho NAS100 th·∫•t b·∫°i, th·ª≠ alternative APIs...
2025-10-03 20:19:20,534 - DataManager - INFO - üîç Fetching NAS100 via alternative data sources...
2025-10-03 20:19:20,534 - DataManager - INFO - Fetching NAS100 t·ª´ Yahoo Finance (simulation)...
2025-10-03 20:19:20,541 - DataManager - INFO - ‚úÖ Mock data created cho NAS100: 100 candles
2025-10-03 20:19:21,043 - DataManager - INFO - Fetching BTCUSD (BTC_USD) M15 data from OANDA...
2025-10-03 20:19:21,043 - BotCore - WARNING - Rate limit cho oanda, ch·ªù 0.4s...
2025-10-03 20:19:21,043 - DataManager - WARNING - Kh√¥ng th·ªÉ l·∫•y d·ªØ li·ªáu cho BTCUSD (BTC_USD) M15
2025-10-03 20:19:21,043 - DataManager - WARNING - OANDA variants cho BTCUSD th·∫•t b·∫°i, th·ª≠ alternative APIs...
2025-10-03 20:19:21,043 - DataManager - INFO - üîç Fetching BTCUSD via alternative data sources...
2025-10-03 20:19:21,043 - DataManager - WARNING - Timeframe M15 not supported by Alpha Vantage
2025-10-03 20:19:21,544 - DataManager - INFO - Fetching BTCUSD (BTC_USD) H1 data from OANDA...
2025-10-03 20:19:22,281 - DataManager - INFO - ƒê√£ l·∫•y 499 candles cho BTCUSD H1
2025-10-03 20:19:22,786 - DataManager - INFO - Fetching BTCUSD (BTC_USD) H4 data from OANDA...
2025-10-03 20:19:22,786 - BotCore - WARNING - Rate limit cho oanda, ch·ªù 0.9s...
2025-10-03 20:19:22,787 - DataManager - WARNING - Kh√¥ng th·ªÉ l·∫•y d·ªØ li·ªáu cho BTCUSD (BTC_USD) H4
2025-10-03 20:19:22,787 - DataManager - WARNING - OANDA variants cho BTCUSD th·∫•t b·∫°i, th·ª≠ alternative APIs...
2025-10-03 20:19:22,787 - DataManager - INFO - üîç Fetching BTCUSD via alternative data sources...
2025-10-03 20:19:22,787 - DataManager - INFO - Fetching BTCUSD (BTC) t·ª´ Alpha Vantage...
2025-10-03 20:19:22,787 - BotCore - WARNING - Rate limit cho alpha_vantage, ch·ªù 3.2s...
2025-10-03 20:19:23,288 - DataManager - INFO - Fetching BTCUSD (BTC_USD) D1 data from OANDA...
2025-10-03 20:19:23,288 - BotCore - WARNING - Rate limit cho oanda, ch·ªù 0.4s...
2025-10-03 20:19:23,288 - DataManager - WARNING - Kh√¥ng th·ªÉ l·∫•y d·ªØ li·ªáu cho BTCUSD (BTC_USD) D1
2025-10-03 20:19:23,288 - DataManager - WARNING - OANDA variants cho BTCUSD th·∫•t b·∫°i, th·ª≠ alternative APIs...
2025-10-03 20:19:23,288 - DataManager - INFO - üîç Fetching BTCUSD via alternative data sources...
2025-10-03 20:19:23,288 - DataManager - INFO - Fetching BTCUSD (BTC) t·ª´ Alpha Vantage...
2025-10-03 20:19:23,288 - BotCore - WARNING - Rate limit cho alpha_vantage, ch·ªù 2.7s...
2025-10-03 20:19:23,288 - BotCore - INFO - üìä Market data fetched for 4 symbols
2025-10-03 20:19:23,300 - BotCore - WARNING - Failed to merge XAUUSD H1 data: module 'pandas.api.types' has no attribute 'is_datetime64tz_ns_dtype'
2025-10-03 20:19:23,301 - BotCore - WARNING - Failed to merge XAUUSD D1 data: module 'pandas.api.types' has no attribute 'is_datetime64tz_ns_dtype'
2025-10-03 20:19:23,690 - FeatureEngineer - INFO - ƒê√£ t√≠nh to√°n 58 features cho XAUUSD
2025-10-03 20:19:23,691 - BotCore - WARNING - Failed to merge EURUSD H1 data: module 'pandas.api.types' has no attribute 'is_datetime64tz_ns_dtype'
2025-10-03 20:19:23,700 - BotCore - WARNING - Failed to merge EURUSD H4 data: module 'pandas.api.types' has no attribute 'is_datetime64tz_ns_dtype'
2025-10-03 20:19:23,700 - BotCore - WARNING - Failed to merge EURUSD D1 data: module 'pandas.api.types' has no attribute 'is_datetime64tz_ns_dtype'
2025-10-03 20:19:23,838 - FeatureEngineer - INFO - ƒê√£ t√≠nh to√°n 58 features cho EURUSD
2025-10-03 20:19:23,848 - BotCore - WARNING - Failed to merge NAS100 H1 data: module 'pandas.api.types' has no attribute 'is_datetime64tz_ns_dtype'
2025-10-03 20:19:23,849 - BotCore - WARNING - Failed to merge NAS100 H4 data: module 'pandas.api.types' has no attribute 'is_datetime64tz_ns_dtype'
2025-10-03 20:19:23,850 - BotCore - WARNING - Failed to merge NAS100 D1 data: module 'pandas.api.types' has no attribute 'is_datetime64tz_ns_dtype'
2025-10-03 20:19:23,908 - FeatureEngineer - INFO - ƒê√£ t√≠nh to√°n 58 features cho NAS100
2025-10-03 20:19:24,102 - FeatureEngineer - INFO - ƒê√£ t√≠nh to√°n 58 features cho BTCUSD
2025-10-03 20:19:24,107 - MasterAgent - INFO - ü§ñ Master Agent analyzing enriched data for trading decisions...
2025-10-03 20:19:24,107 - MasterAgent - INFO - üìä Symbols c√≥ d·ªØ li·ªáu ƒë·ªÉ ph√¢n t√≠ch: XAUUSD, EURUSD, NAS100, BTCUSD
2025-10-03 20:19:24,108 - MasterAgent - INFO - ü§ñ Master Agent ƒëang ph√¢n t√≠ch XAUUSD v·ªõi AI models...
2025-10-03 20:19:24,108 - BotCore - WARNING - Session is closed cho marketaux, ƒëang kh·ªüi t·∫°o l·∫°i...
2025-10-03 20:19:25,561 - NewsManager - INFO - C√≥ 4 tin t·ª©c cho XAUUSD, sentiment: 0.08
2025-10-03 20:19:25,679 - MasterAgent - INFO - üéØ Ensemble prediction: {'action': 'SELL', 'confidence': np.float64(0.47365588023806116), 'probability': np.int64(0)}
2025-10-03 20:19:25,680 - MasterAgent - WARNING - LSTM model ch∆∞a ƒë∆∞·ª£c hu·∫•n luy·ªán
2025-10-03 20:19:25,680 - MasterAgent - INFO - ‚ö†Ô∏è Risk override: HIGH risk forces HOLD
2025-10-03 20:19:25,680 - MasterAgent - INFO - ‚úÖ Master Agent quy·∫øt ƒë·ªãnh: HOLD XAUUSD v·ªõi confidence 0.28 (AI-Enhanced)
2025-10-03 20:19:25,681 - MasterAgent - INFO - ü§ñ Master Agent ƒëang ph√¢n t√≠ch EURUSD v·ªõi AI models...
2025-10-03 20:19:25,681 - NewsManager - WARNING - Skipping FinnHub news for EURUSD due to invalid API key
2025-10-03 20:19:25,681 - BotCore - WARNING - Rate limit cho marketaux, ch·ªù 0.9s...
2025-10-03 20:19:25,758 - NewsManager - INFO - C√≥ 5 tin t·ª©c cho EURUSD, sentiment: 0.11
2025-10-03 20:19:25,889 - MasterAgent - INFO - üéØ Ensemble prediction: {'action': 'BUY', 'confidence': np.float64(0.6124334411177125), 'probability': np.int64(1)}
2025-10-03 20:19:25,890 - MasterAgent - WARNING - LSTM model ch∆∞a ƒë∆∞·ª£c hu·∫•n luy·ªán
2025-10-03 20:19:25,890 - MasterAgent - INFO - ‚ö†Ô∏è Risk override: HIGH risk forces HOLD
2025-10-03 20:19:25,890 - MasterAgent - INFO - ‚úÖ Master Agent quy·∫øt ƒë·ªãnh: HOLD EURUSD v·ªõi confidence 0.31 (AI-Enhanced)
2025-10-03 20:19:25,891 - MasterAgent - INFO - ü§ñ Master Agent ƒëang ph√¢n t√≠ch NAS100 v·ªõi AI models...
2025-10-03 20:19:25,891 - NewsManager - WARNING - Skipping FinnHub news for NAS100 due to invalid API key
2025-10-03 20:19:25,891 - BotCore - WARNING - Rate limit cho marketaux, ch·ªù 0.7s...
2025-10-03 20:19:25,972 - NewsManager - INFO - C√≥ 5 tin t·ª©c cho NAS100, sentiment: 0.10
2025-10-03 20:19:26,181 - MasterAgent - INFO - üéØ Ensemble prediction: {'action': 'BUY', 'confidence': np.float64(0.5485602443399361), 'probability': np.int64(1)}
2025-10-03 20:19:26,182 - MasterAgent - WARNING - LSTM model ch∆∞a ƒë∆∞·ª£c hu·∫•n luy·ªán
2025-10-03 20:19:26,182 - MasterAgent - INFO - ‚ö†Ô∏è Risk override: HIGH risk forces HOLD
2025-10-03 20:19:26,182 - MasterAgent - INFO - ‚úÖ Master Agent quy·∫øt ƒë·ªãnh: HOLD NAS100 v·ªõi confidence 0.30 (AI-Enhanced)
2025-10-03 20:19:26,183 - MasterAgent - INFO - ü§ñ Master Agent ƒëang ph√¢n t√≠ch BTCUSD v·ªõi AI models...
2025-10-03 20:19:26,183 - BotCore - WARNING - Rate limit cho marketaux, ch·ªù 0.4s...
2025-10-03 20:19:26,261 - NewsManager - INFO - C√≥ 5 tin t·ª©c cho BTCUSD, sentiment: 0.22
2025-10-03 20:19:26,407 - MasterAgent - INFO - üéØ Ensemble prediction: {'action': 'SELL', 'confidence': np.float64(0.47364479462915166), 'probability': np.int64(0)}
2025-10-03 20:19:26,408 - MasterAgent - WARNING - LSTM model ch∆∞a ƒë∆∞·ª£c hu·∫•n luy·ªán
2025-10-03 20:19:26,408 - MasterAgent - INFO - ‚ö†Ô∏è Risk override: HIGH risk forces HOLD
2025-10-03 20:19:26,408 - MasterAgent - INFO - ‚úÖ Master Agent quy·∫øt ƒë·ªãnh: HOLD BTCUSD v·ªõi confidence 0.28 (AI-Enhanced)
2025-10-03 20:19:26,409 - MasterAgent - INFO - ‚úÖ Master Agent analysis complete: NEUTRAL market, 0.00 signal strength, 0 buy, 0 sell
2025-10-03 20:19:26,432 - BotCore - INFO - üìà Models updated with new data
2025-10-03 20:19:26,668 - Discord - INFO - Discord notification sent successfully
2025-10-03 20:19:27,670 - BotCore - INFO - üìä Performance report sent
2025-10-03 20:19:27,671 - BotCore - INFO - ‚úÖ Trading cycle #1 completed in 16.03s
2025-10-03 20:19:58,252 - BotCore - INFO - üõë Stopping Trading Bot...
2025-10-03 20:20:03,253 - RiskManager - INFO - Real-time monitoring stopped
2025-10-03 20:20:03,647 - Discord - INFO - Discord notification sent successfully
2025-10-03 20:20:04,649 - BotCore - INFO - ‚úÖ Trading Bot stopped successfully
2025-10-03 20:20:22,634 - BotCore - INFO - üîç Checking for existing trained models...
2025-10-03 20:20:22,980 - EnsembleModel - INFO - ‚úÖ Ensemble model loaded from ensemble_model_XAUUSD.pkl
2025-10-03 20:20:22,981 - BotCore - INFO - ‚úÖ Loaded ensemble model from ensemble_model_XAUUSD.pkl
2025-10-03 20:20:23,608 - absl - WARNING - Compiled the loaded model, but the compiled metrics have yet to be built. `model.compile_metrics` will be empty until you train or evaluate the model.
2025-10-03 20:20:23,620 - EnsembleModel - INFO - ‚úÖ LSTM model loaded from lstm_model_XAUUSD.h5
2025-10-03 20:20:23,620 - BotCore - INFO - ‚úÖ Loaded LSTM model from lstm_model_XAUUSD.h5
2025-10-03 20:20:23,620 - BotCore - INFO - üéØ Model loading completed!
2025-10-03 20:20:23,620 - BotCore - INFO - üöÄ Starting Trading Bot (cycle interval: 60 minutes)
2025-10-03 20:20:23,620 - BotCore - INFO - üöÄ Initializing Trading Bot...
2025-10-03 20:20:23,628 - BotCore - INFO - ‚úÖ Database initialized at trading_bot.db
2025-10-03 20:20:26,791 - RLAgent - INFO - ƒê√£ t·∫°o PPO model
2025-10-03 20:20:26,792 - BotCore - INFO - ü§ñ RL Agent initialized successfully
2025-10-03 20:20:26,792 - BotCore - INFO - ‚úÖ Trading Bot initialized successfully
2025-10-03 20:20:27,078 - Discord - INFO - Discord notification sent successfully
2025-10-03 20:20:28,081 - BotCore - INFO - üéì Checking AI model training status...
2025-10-03 20:20:28,081 - BotCore - INFO - üìä Fetching historical data for initial training...
2025-10-03 20:20:28,081 - DataManager - INFO - Fetching XAUUSD (XAU_USD) H1 data from OANDA...
2025-10-03 20:20:28,661 - DataManager - INFO - ƒê√£ l·∫•y 499 candles cho XAUUSD H1
2025-10-03 20:20:28,661 - BotCore - INFO - üìà Fetched 499 historical records for XAUUSD
2025-10-03 20:20:28,661 - DataManager - INFO - Fetching EURUSD (EUR_USD) H1 data from OANDA...
2025-10-03 20:20:28,661 - BotCore - WARNING - Rate limit cho oanda, ch·ªù 1.6s...
2025-10-03 20:20:28,661 - DataManager - WARNING - Kh√¥ng th·ªÉ l·∫•y d·ªØ li·ªáu cho EURUSD (EUR_USD) H1
2025-10-03 20:20:28,661 - DataManager - WARNING - OANDA variants cho EURUSD th·∫•t b·∫°i, th·ª≠ alternative APIs...
2025-10-03 20:20:28,661 - DataManager - INFO - üîç Fetching EURUSD via alternative data sources...
2025-10-03 20:20:28,661 - DataManager - INFO - Fetching EURUSD t·ª´ Yahoo Finance (simulation)...
2025-10-03 20:20:28,669 - DataManager - INFO - ‚úÖ Mock data created cho EURUSD: 100 candles
2025-10-03 20:20:28,669 - BotCore - INFO - üìà Fetched 100 historical records for EURUSD
2025-10-03 20:20:28,673 - BotCore - INFO - üß† Training LSTM model...
2025-10-03 20:20:28,696 - BotCore - INFO - Training LSTM model with XAUUSD: features shape=(499, 5), targets shape=(499,)
2025-10-03 20:20:28,696 - EnsembleModel - INFO - LSTM feature dimension changed from 4 to 5, rebuilding model
2025-10-03 20:20:28,965 - EnsembleModel - INFO - ƒê√£ x√¢y d·ª±ng ki·∫øn tr√∫c LSTM v·ªõi Attention
2025-10-03 20:20:28,976 - EnsembleModel - INFO - Training data shapes: X_seq=(449, 50, 5), y_seq=(449, 1)
