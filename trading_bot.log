2025-10-03 22:52:20,146 - BotCore - INFO - üöÄ Starting Trading Bot (cycle interval: 60 minutes)
2025-10-03 22:52:20,146 - BotCore - INFO - üöÄ Initializing Trading Bot...
2025-10-03 22:52:20,148 - BotCore - INFO - ‚úÖ Database initialized at trading_bot.db
2025-10-03 22:52:20,148 - BotCore - INFO - No open positions to load.
2025-10-03 22:52:20,371 - MarketStatusChecker - INFO - ‚úÖ Market calendars initialized successfully
2025-10-03 22:52:20,371 - BotCore - INFO - ü§ñ RL Agent will be initialized during training with real data
2025-10-03 22:52:20,371 - BotCore - INFO - ‚úÖ Trading Bot initialized successfully
2025-10-03 22:52:20,599 - Discord - INFO - Discord notification sent successfully
2025-10-03 22:52:21,601 - BotCore - INFO - üéì Checking AI model training status...
2025-10-03 22:52:21,602 - BotCore - INFO - üìä Fetching historical data for initial training...
2025-10-03 22:52:21,602 - DataManager - INFO - Fetching XAUUSD (XAU_USD) H1 data from OANDA...
2025-10-03 22:52:22,037 - DataManager - INFO - ƒê√£ l·∫•y 500 candles cho XAUUSD H1
2025-10-03 22:52:22,037 - BotCore - INFO - üìà Fetched 500 historical records for XAUUSD
2025-10-03 22:52:22,038 - DataManager - INFO - Fetching EURUSD (EUR_USD) H1 data from OANDA...
2025-10-03 22:52:22,038 - BotCore - WARNING - Rate limit cho oanda, ch·ªù 3.7s...
2025-10-03 22:52:22,038 - DataManager - WARNING - Kh√¥ng th·ªÉ l·∫•y d·ªØ li·ªáu cho EURUSD (EUR_USD) H1
2025-10-03 22:52:22,038 - DataManager - WARNING - OANDA variants cho EURUSD th·∫•t b·∫°i, th·ª≠ alternative APIs...
2025-10-03 22:52:22,038 - DataManager - INFO - üîç Fetching EURUSD via alternative data sources...
2025-10-03 22:52:22,038 - DataManager - INFO - Fetching EURUSD t·ª´ Yahoo Finance (simulation)...
2025-10-03 22:52:22,040 - DataManager - INFO - ‚úÖ Mock data created cho EURUSD: 100 candles
2025-10-03 22:52:22,041 - BotCore - INFO - üìà Fetched 100 historical records for EURUSD
2025-10-03 22:52:22,042 - BotCore - INFO - üîß Engineering features for training data to match prediction features...
2025-10-03 22:52:22,256 - FeatureEngineer - INFO - ƒê√£ t√≠nh to√°n 59 features cho XAUUSD
2025-10-03 22:52:22,257 - BotCore - INFO - ‚úÖ Engineered features for XAUUSD: 59 features
2025-10-03 22:52:22,257 - BotCore - INFO - ü§ñ Training ensemble model...
2025-10-03 22:52:22,309 - BotCore - INFO - Training targets distribution: {1: 195, 2: 162, 0: 143}
2025-10-03 22:52:22,309 - BotCore - INFO - Training ensemble model with XAUUSD: 59 features
2025-10-03 22:52:22,309 - MasterAgent - INFO - üéì Training AI models cho XAUUSD v·ªõi 500 data points...
2025-10-03 22:52:22,311 - MasterAgent - INFO - üéØ Starting Ensemble model training...
2025-10-03 22:52:22,329 - EnsembleModel - INFO - EnsembleModel storing feature names: ['open', 'high', 'low', 'volume', 'atr', 'adx', 'adx_pos', 'adx_neg', 'rsi', 'pivot', 'resistance_1', 'support_1', 'resistance_2', 'support_2', 'returns_5', 'returns_5_std', 'returns_10', 'returns_10_std', 'returns_20', 'returns_20_std', 'volatility', 'volatility_ratio', 'skew', 'kurtosis', 'sma_5', 'price_vs_sma_5', 'sma_10', 'price_vs_sma_10', 'sma_20', 'price_vs_sma_20', 'sma_50', 'price_vs_sma_50', 'sma_200', 'price_vs_sma_200', 'body_size', 'upper_shadow', 'lower_shadow', 'doji', 'hammer', 'bull_engulf', 'bear_engulf', 'hh', 'lh', 'hl', 'll', 'swing_high', 'swing_low', 'spring', 'upthrust', 'accumulation', 'distribution', 'distance_to_nearest_supply', 'distance_to_nearest_demand', 'bullish_rsi_div', 'bearish_rsi_div', 'regime_uptrend', 'regime_downtrend', 'regime_sideways']
2025-10-03 22:52:22,329 - EnsembleModel - INFO - Training ensemble with 499 samples, 58 features
2025-10-03 22:52:22,329 - EnsembleModel - INFO - Using default parameters for xgboost
2025-10-03 22:52:22,329 - EnsembleModel - INFO - Using default parameters for lightgbm
2025-10-03 22:52:22,329 - EnsembleModel - INFO - Using default parameters for random_forest
2025-10-03 22:52:22,329 - EnsembleModel - INFO - Training xgboost model...
2025-10-03 22:52:22,843 - EnsembleModel - INFO - ‚úÖ xgboost model trained successfully
2025-10-03 22:52:22,851 - EnsembleModel - INFO - Ho√†n th√†nh training xgboost
2025-10-03 22:52:22,851 - EnsembleModel - INFO - Training lightgbm model...
2025-10-03 22:52:23,026 - EnsembleModel - INFO - ‚úÖ lightgbm model trained successfully
2025-10-03 22:52:23,031 - EnsembleModel - INFO - Ho√†n th√†nh training lightgbm
2025-10-03 22:52:23,031 - EnsembleModel - INFO - Training random_forest model...
2025-10-03 22:52:23,259 - EnsembleModel - ERROR - Failed to train random_forest: could not broadcast input array from shape (499,2) into shape (499,3)
2025-10-03 22:52:23,264 - EnsembleModel - INFO - Ho√†n th√†nh ensemble training
2025-10-03 22:52:24,269 - EnsembleModel - INFO - Ensemble CV scores - Accuracy: 0.513, F1: 0.424
2025-10-03 22:52:24,272 - MasterAgent - INFO - ‚úÖ Ensemble training completed - Accuracy: 0.513
2025-10-03 22:52:24,273 - MasterAgent - INFO - üß† Starting LSTM model training...
2025-10-03 22:52:24,292 - EnsembleModel - INFO - LSTM training with 499 samples, 58 features
2025-10-03 22:52:24,292 - EnsembleModel - INFO - LSTM storing feature names: ['open', 'high', 'low', 'volume', 'atr', 'adx', 'adx_pos', 'adx_neg', 'rsi', 'pivot', 'resistance_1', 'support_1', 'resistance_2', 'support_2', 'returns_5', 'returns_5_std', 'returns_10', 'returns_10_std', 'returns_20', 'returns_20_std', 'volatility', 'volatility_ratio', 'skew', 'kurtosis', 'sma_5', 'price_vs_sma_5', 'sma_10', 'price_vs_sma_10', 'sma_20', 'price_vs_sma_20', 'sma_50', 'price_vs_sma_50', 'sma_200', 'price_vs_sma_200', 'body_size', 'upper_shadow', 'lower_shadow', 'doji', 'hammer', 'bull_engulf', 'bear_engulf', 'hh', 'lh', 'hl', 'll', 'swing_high', 'swing_low', 'spring', 'upthrust', 'accumulation', 'distribution', 'distance_to_nearest_supply', 'distance_to_nearest_demand', 'bullish_rsi_div', 'bearish_rsi_div', 'regime_uptrend', 'regime_downtrend', 'regime_sideways']
2025-10-03 22:52:24,293 - EnsembleModel - INFO - LSTM feature dimension set to 58
2025-10-03 22:52:24,580 - EnsembleModel - INFO - ƒê√£ x√¢y d·ª±ng ki·∫øn tr√∫c LSTM v·ªõi Attention
2025-10-03 22:52:24,601 - EnsembleModel - INFO - Training data shapes: X_seq=(449, 50, 58), y_seq=(449, 1)
2025-10-03 22:52:24,601 - EnsembleModel - INFO - Split data: train=359, val=90
2025-10-03 22:52:24,602 - EnsembleModel - INFO - Starting LSTM model training...
2025-10-03 22:54:15,344 - EnsembleModel - INFO - ‚úÖ LSTM model training completed
2025-10-03 22:54:15,549 - EnsembleModel - WARNING - Evaluation failed: not enough values to unpack (expected 4, got 2)
2025-10-03 22:54:15,552 - MasterAgent - INFO - ‚úÖ LSTM training completed - Validation Accuracy: 0.000
2025-10-03 22:54:15,552 - MasterAgent - WARNING - ‚ö†Ô∏è RL Agent not available or model not created
2025-10-03 22:54:15,552 - MasterAgent - INFO - üìä Training Summary:
2025-10-03 22:54:15,552 - MasterAgent - INFO -    ‚úÖ Successfully trained: ['ensemble', 'lstm']
2025-10-03 22:54:15,552 - MasterAgent - INFO -    ‚ùå Failed to train: []
2025-10-03 22:54:15,552 - MasterAgent - INFO - üéØ Model weights updated after training: ['ensemble', 'lstm']
2025-10-03 22:54:15,553 - BotCore - INFO - üß† Training LSTM model...
2025-10-03 22:54:15,612 - BotCore - INFO - Training targets distribution: {1: 195, 2: 162, 0: 143}
2025-10-03 22:54:15,615 - BotCore - INFO - Final aligned data shapes for LSTM: features=(301, 59), targets=(301,)
2025-10-03 22:54:15,615 - BotCore - INFO - Training LSTM model with XAUUSD: features shape=(301, 59), targets shape=(301,)
2025-10-03 22:54:15,616 - BotCore - INFO - LSTM training features: ['open', 'high', 'low', 'close', 'volume', 'atr', 'adx', 'adx_pos', 'adx_neg', 'rsi', 'pivot', 'resistance_1', 'support_1', 'resistance_2', 'support_2', 'returns_5', 'returns_5_std', 'returns_10', 'returns_10_std', 'returns_20', 'returns_20_std', 'volatility', 'volatility_ratio', 'skew', 'kurtosis', 'sma_5', 'price_vs_sma_5', 'sma_10', 'price_vs_sma_10', 'sma_20', 'price_vs_sma_20', 'sma_50', 'price_vs_sma_50', 'sma_200', 'price_vs_sma_200', 'body_size', 'upper_shadow', 'lower_shadow', 'doji', 'hammer', 'bull_engulf', 'bear_engulf', 'hh', 'lh', 'hl', 'll', 'swing_high', 'swing_low', 'spring', 'upthrust', 'accumulation', 'distribution', 'distance_to_nearest_supply', 'distance_to_nearest_demand', 'bullish_rsi_div', 'bearish_rsi_div', 'regime_uptrend', 'regime_downtrend', 'regime_sideways']
2025-10-03 22:54:15,624 - EnsembleModel - INFO - LSTM training with 301 samples, 59 features
2025-10-03 22:54:15,624 - EnsembleModel - INFO - LSTM storing feature names: ['open', 'high', 'low', 'close', 'volume', 'atr', 'adx', 'adx_pos', 'adx_neg', 'rsi', 'pivot', 'resistance_1', 'support_1', 'resistance_2', 'support_2', 'returns_5', 'returns_5_std', 'returns_10', 'returns_10_std', 'returns_20', 'returns_20_std', 'volatility', 'volatility_ratio', 'skew', 'kurtosis', 'sma_5', 'price_vs_sma_5', 'sma_10', 'price_vs_sma_10', 'sma_20', 'price_vs_sma_20', 'sma_50', 'price_vs_sma_50', 'sma_200', 'price_vs_sma_200', 'body_size', 'upper_shadow', 'lower_shadow', 'doji', 'hammer', 'bull_engulf', 'bear_engulf', 'hh', 'lh', 'hl', 'll', 'swing_high', 'swing_low', 'spring', 'upthrust', 'accumulation', 'distribution', 'distance_to_nearest_supply', 'distance_to_nearest_demand', 'bullish_rsi_div', 'bearish_rsi_div', 'regime_uptrend', 'regime_downtrend', 'regime_sideways']
2025-10-03 22:54:15,624 - EnsembleModel - INFO - LSTM feature dimension changed from 58 to 59, rebuilding model
2025-10-03 22:54:15,774 - EnsembleModel - INFO - ƒê√£ x√¢y d·ª±ng ki·∫øn tr√∫c LSTM v·ªõi Attention
2025-10-03 22:54:15,793 - EnsembleModel - INFO - Training data shapes: X_seq=(251, 50, 59), y_seq=(251, 1)
2025-10-03 22:54:15,793 - EnsembleModel - INFO - Split data: train=200, val=51
2025-10-03 22:54:15,793 - EnsembleModel - INFO - Starting LSTM model training...
2025-10-03 22:55:11,509 - EnsembleModel - INFO - ‚úÖ LSTM model training completed
2025-10-03 22:55:11,692 - EnsembleModel - WARNING - Evaluation failed: not enough values to unpack (expected 4, got 2)
2025-10-03 22:55:11,693 - BotCore - INFO - ‚úÖ LSTM model trained successfully!
2025-10-03 22:55:11,693 - BotCore - INFO - ü§ñ Training RL Agent with real trading environment...
2025-10-03 22:55:11,693 - BotCore - INFO - Creating RealTradingEnv for XAUUSD with 500 candles
2025-10-03 22:55:11,704 - FeatureEngineer - ERROR - L·ªói khi t√≠nh to√°n features: index 13 is out of bounds for axis 0 with size 10
2025-10-03 22:55:11,705 - RealTradingEnv - INFO - RealTradingEnv observation space: 59 features
2025-10-03 22:55:13,950 - RLAgent - INFO - ƒê√£ t·∫°o PPO model
2025-10-03 22:55:13,951 - BotCore - INFO - Starting RL training for XAUUSD...
2025-10-03 22:55:13,951 - RLAgent - INFO - B·∫Øt ƒë·∫ßu training RL agent trong 100000 steps
2025-10-03 22:55:13,951 - RLAgent - INFO - Starting RL model training...
2025-10-03 22:55:13,951 - RLAgent - ERROR - RL training failed: RealTradingEnv.reset() got an unexpected keyword argument 'seed'
2025-10-03 22:55:13,951 - BotCore - ERROR - ‚ùå RL training failed: Training failed: RealTradingEnv.reset() got an unexpected keyword argument 'seed'
2025-10-03 22:55:13,952 - BotCore - INFO - üéì Initial model training completed!
2025-10-03 22:55:13,953 - RiskManager - INFO - Real-time monitoring started
2025-10-03 22:55:13,953 - BotCore - INFO - üìà Starting trading cycle #1
2025-10-03 22:55:14,181 - BotCore - INFO - Market Status - Open: ['BTCUSD'], Closed: ['XAUUSD', 'EURUSD', 'NAS100']
2025-10-03 22:55:15,683 - DataManager - INFO - Fetching BTCUSD (BTC_USD) M15 data from OANDA...
2025-10-03 22:55:16,122 - DataManager - INFO - ƒê√£ l·∫•y 500 candles cho BTCUSD M15
2025-10-03 22:55:17,624 - DataManager - INFO - Fetching BTCUSD (BTC_USD) H1 data from OANDA...
2025-10-03 22:55:17,625 - BotCore - WARNING - Rate limit cho oanda, ch·ªù 2.2s...
2025-10-03 22:55:17,625 - DataManager - WARNING - Kh√¥ng th·ªÉ l·∫•y d·ªØ li·ªáu cho BTCUSD (BTC_USD) H1
2025-10-03 22:55:17,625 - DataManager - WARNING - OANDA variants cho BTCUSD th·∫•t b·∫°i, th·ª≠ alternative APIs...
2025-10-03 22:55:17,625 - DataManager - INFO - üîç Fetching BTCUSD via alternative data sources...
2025-10-03 22:55:17,625 - DataManager - WARNING - Timeframe H1 not supported by Alpha Vantage
2025-10-03 22:55:19,127 - DataManager - INFO - Fetching BTCUSD (BTC_USD) H4 data from OANDA...
2025-10-03 22:55:19,127 - BotCore - WARNING - Rate limit cho oanda, ch·ªù 0.7s...
2025-10-03 22:55:19,127 - DataManager - WARNING - Kh√¥ng th·ªÉ l·∫•y d·ªØ li·ªáu cho BTCUSD (BTC_USD) H4
2025-10-03 22:55:19,127 - DataManager - WARNING - OANDA variants cho BTCUSD th·∫•t b·∫°i, th·ª≠ alternative APIs...
2025-10-03 22:55:19,128 - DataManager - INFO - üîç Fetching BTCUSD via alternative data sources...
2025-10-03 22:55:19,128 - DataManager - INFO - Fetching BTCUSD (BTC) t·ª´ Alpha Vantage...
2025-10-03 22:55:20,785 - DataManager - INFO - Fetching BTCUSD (BTC_USD) D1 data from OANDA...
2025-10-03 22:55:21,252 - DataManager - INFO - ƒê√£ l·∫•y 500 candles cho BTCUSD D1
2025-10-03 22:55:21,253 - BotCore - INFO - üìä Market data fetched for 1 symbols
2025-10-03 22:55:21,546 - FeatureEngineer - INFO - ƒê√£ t√≠nh to√°n 65 features cho BTCUSD
2025-10-03 22:55:21,547 - MasterAgent - INFO - ü§ñ Master Agent analyzing enriched data for trading decisions...
2025-10-03 22:55:21,547 - MasterAgent - INFO - üìä Symbols c√≥ d·ªØ li·ªáu ƒë·ªÉ ph√¢n t√≠ch: BTCUSD
2025-10-03 22:55:21,547 - MasterAgent - INFO - ü§ñ Master Agent ƒëang ph√¢n t√≠ch BTCUSD v·ªõi AI models...
2025-10-03 22:55:21,548 - BotCore - WARNING - Session is closed cho marketaux, ƒëang kh·ªüi t·∫°o l·∫°i...
2025-10-03 22:55:21,796 - NewsManager - INFO - C√≥ 8 tin t·ª©c cho BTCUSD, sentiment: -0.02
2025-10-03 22:55:21,826 - MasterAgent - WARNING - Ensemble model error: X has 6 features, but LogisticRegression is expecting 9 features as input.
2025-10-03 22:55:21,832 - MasterAgent - WARNING - LSTM model error: Input X contains infinity or a value too large for dtype('float64').
2025-10-03 22:55:21,832 - MasterAgent - INFO - ‚úÖ Master Agent quy·∫øt ƒë·ªãnh: HOLD BTCUSD v·ªõi confidence 0.50 (AI-Enhanced)
2025-10-03 22:55:21,833 - MasterAgent - INFO - ‚úÖ Master Agent analysis complete: NEUTRAL market, 0.00 signal strength, 0 buy, 0 sell
2025-10-03 22:55:21,835 - BotCore - INFO - üìà Models updated with new data
2025-10-03 22:55:22,595 - Discord - INFO - Discord notification sent successfully
2025-10-03 22:55:23,597 - BotCore - INFO - üìä Performance report sent
2025-10-03 22:55:23,598 - BotCore - INFO - ‚úÖ Trading cycle #1 completed in 9.64s
2025-10-03 23:04:41,611 - BotCore - INFO - üöÄ Starting Trading Bot (cycle interval: 60 minutes)
2025-10-03 23:04:41,611 - BotCore - INFO - üöÄ Initializing Trading Bot...
2025-10-03 23:04:41,613 - BotCore - INFO - ‚úÖ Database initialized at trading_bot.db
2025-10-03 23:04:41,614 - BotCore - INFO - No open positions to load.
2025-10-03 23:04:41,842 - MarketStatusChecker - INFO - ‚úÖ Market calendars initialized successfully
2025-10-03 23:04:41,842 - BotCore - INFO - ü§ñ RL Agent will be initialized during training with real data
2025-10-03 23:04:41,843 - BotCore - INFO - ‚úÖ Trading Bot initialized successfully
2025-10-03 23:04:42,700 - Discord - INFO - Discord notification sent successfully
2025-10-03 23:04:43,703 - BotCore - INFO - üéì Checking AI model training status...
2025-10-03 23:04:43,703 - BotCore - INFO - üìä Fetching historical data for initial training...
2025-10-03 23:04:43,703 - DataManager - INFO - Fetching XAUUSD (XAU_USD) H1 data from OANDA...
2025-10-03 23:04:44,171 - DataManager - INFO - ƒê√£ l·∫•y 500 candles cho XAUUSD H1
2025-10-03 23:04:44,171 - BotCore - INFO - üìà Fetched 500 historical records for XAUUSD
2025-10-03 23:04:44,172 - DataManager - INFO - Fetching EURUSD (EUR_USD) H1 data from OANDA...
2025-10-03 23:04:44,172 - BotCore - WARNING - Rate limit cho oanda, ch·ªù 3.7s...
2025-10-03 23:04:44,172 - DataManager - WARNING - Kh√¥ng th·ªÉ l·∫•y d·ªØ li·ªáu cho EURUSD (EUR_USD) H1
2025-10-03 23:04:44,172 - DataManager - WARNING - OANDA variants cho EURUSD th·∫•t b·∫°i, th·ª≠ alternative APIs...
2025-10-03 23:04:44,172 - DataManager - INFO - üîç Fetching EURUSD via alternative data sources...
2025-10-03 23:04:44,172 - DataManager - INFO - Fetching EURUSD t·ª´ Yahoo Finance (simulation)...
2025-10-03 23:04:44,174 - DataManager - INFO - ‚úÖ Mock data created cho EURUSD: 100 candles
2025-10-03 23:04:44,175 - BotCore - INFO - üìà Fetched 100 historical records for EURUSD
2025-10-03 23:04:44,176 - BotCore - INFO - üîß Engineering features for training data to match prediction features...
2025-10-03 23:04:44,418 - FeatureEngineer - INFO - ƒê√£ t√≠nh to√°n 59 features cho XAUUSD
2025-10-03 23:04:44,418 - BotCore - INFO - ‚úÖ Engineered features for XAUUSD: 59 features
2025-10-03 23:04:44,418 - BotCore - INFO - ü§ñ Training ensemble model...
2025-10-03 23:04:44,474 - BotCore - INFO - Training targets distribution: {1: 195, 2: 162, 0: 143}
2025-10-03 23:04:44,474 - BotCore - INFO - Training ensemble model with XAUUSD: 59 features
2025-10-03 23:04:44,474 - MasterAgent - INFO - üéì Training AI models cho XAUUSD v·ªõi 500 data points...
2025-10-03 23:04:44,477 - MasterAgent - INFO - üéØ Starting Ensemble model training...
2025-10-03 23:04:44,497 - EnsembleModel - INFO - EnsembleModel storing feature names: ['open', 'high', 'low', 'volume', 'atr', 'adx', 'adx_pos', 'adx_neg', 'rsi', 'pivot', 'resistance_1', 'support_1', 'resistance_2', 'support_2', 'returns_5', 'returns_5_std', 'returns_10', 'returns_10_std', 'returns_20', 'returns_20_std', 'volatility', 'volatility_ratio', 'skew', 'kurtosis', 'sma_5', 'price_vs_sma_5', 'sma_10', 'price_vs_sma_10', 'sma_20', 'price_vs_sma_20', 'sma_50', 'price_vs_sma_50', 'sma_200', 'price_vs_sma_200', 'body_size', 'upper_shadow', 'lower_shadow', 'doji', 'hammer', 'bull_engulf', 'bear_engulf', 'hh', 'lh', 'hl', 'll', 'swing_high', 'swing_low', 'spring', 'upthrust', 'accumulation', 'distribution', 'distance_to_nearest_supply', 'distance_to_nearest_demand', 'bullish_rsi_div', 'bearish_rsi_div', 'regime_uptrend', 'regime_downtrend', 'regime_sideways']
2025-10-03 23:04:44,498 - EnsembleModel - INFO - Training ensemble with 499 samples, 58 features
2025-10-03 23:04:44,498 - EnsembleModel - INFO - Using default parameters for xgboost
2025-10-03 23:04:44,498 - EnsembleModel - INFO - Using default parameters for lightgbm
2025-10-03 23:04:44,498 - EnsembleModel - INFO - Using default parameters for random_forest
2025-10-03 23:04:44,498 - EnsembleModel - INFO - Training xgboost model...
2025-10-03 23:04:45,179 - EnsembleModel - INFO - ‚úÖ xgboost model trained successfully
2025-10-03 23:04:45,187 - EnsembleModel - INFO - Ho√†n th√†nh training xgboost
2025-10-03 23:04:45,187 - EnsembleModel - INFO - Training lightgbm model...
2025-10-03 23:04:45,448 - EnsembleModel - INFO - ‚úÖ lightgbm model trained successfully
2025-10-03 23:04:45,453 - EnsembleModel - INFO - Ho√†n th√†nh training lightgbm
2025-10-03 23:04:45,453 - EnsembleModel - INFO - Training random_forest model...
2025-10-03 23:04:45,721 - EnsembleModel - WARNING - random_forest returned 2 classes, expected 3. Padding with zeros.
2025-10-03 23:04:45,721 - EnsembleModel - INFO - ‚úÖ random_forest model trained successfully
2025-10-03 23:04:45,809 - EnsembleModel - INFO - Ho√†n th√†nh training random_forest
2025-10-03 23:04:45,816 - EnsembleModel - INFO - Ho√†n th√†nh ensemble training
2025-10-03 23:04:47,876 - EnsembleModel - INFO - Ensemble CV scores - Accuracy: 0.520, F1: 0.416
2025-10-03 23:04:47,878 - MasterAgent - INFO - ‚úÖ Ensemble training completed - Accuracy: 0.520
2025-10-03 23:04:47,878 - MasterAgent - INFO - üß† Starting LSTM model training...
2025-10-03 23:04:47,900 - EnsembleModel - INFO - LSTM training with 499 samples, 58 features
2025-10-03 23:04:47,901 - EnsembleModel - INFO - LSTM storing feature names: ['open', 'high', 'low', 'volume', 'atr', 'adx', 'adx_pos', 'adx_neg', 'rsi', 'pivot', 'resistance_1', 'support_1', 'resistance_2', 'support_2', 'returns_5', 'returns_5_std', 'returns_10', 'returns_10_std', 'returns_20', 'returns_20_std', 'volatility', 'volatility_ratio', 'skew', 'kurtosis', 'sma_5', 'price_vs_sma_5', 'sma_10', 'price_vs_sma_10', 'sma_20', 'price_vs_sma_20', 'sma_50', 'price_vs_sma_50', 'sma_200', 'price_vs_sma_200', 'body_size', 'upper_shadow', 'lower_shadow', 'doji', 'hammer', 'bull_engulf', 'bear_engulf', 'hh', 'lh', 'hl', 'll', 'swing_high', 'swing_low', 'spring', 'upthrust', 'accumulation', 'distribution', 'distance_to_nearest_supply', 'distance_to_nearest_demand', 'bullish_rsi_div', 'bearish_rsi_div', 'regime_uptrend', 'regime_downtrend', 'regime_sideways']
2025-10-03 23:04:47,901 - EnsembleModel - INFO - LSTM feature dimension set to 58
2025-10-03 23:04:48,222 - EnsembleModel - INFO - ƒê√£ x√¢y d·ª±ng ki·∫øn tr√∫c LSTM v·ªõi Attention
2025-10-03 23:04:48,244 - EnsembleModel - INFO - Training data shapes: X_seq=(449, 50, 58), y_seq=(449, 1)
2025-10-03 23:04:48,245 - EnsembleModel - INFO - Split data: train=359, val=90
2025-10-03 23:04:48,245 - EnsembleModel - INFO - Starting LSTM model training...
2025-10-03 23:05:13,732 - BotCore - INFO - üöÄ Starting Trading Bot (cycle interval: 60 minutes)
2025-10-03 23:05:13,732 - BotCore - INFO - üöÄ Initializing Trading Bot...
2025-10-03 23:05:13,733 - BotCore - INFO - ‚úÖ Database initialized at trading_bot.db
2025-10-03 23:05:13,734 - BotCore - INFO - No open positions to load.
2025-10-03 23:05:13,942 - MarketStatusChecker - INFO - ‚úÖ Market calendars initialized successfully
2025-10-03 23:05:13,942 - BotCore - INFO - ü§ñ RL Agent will be initialized during training with real data
2025-10-03 23:05:13,943 - BotCore - INFO - ‚úÖ Trading Bot initialized successfully
2025-10-03 23:05:14,229 - Discord - INFO - Discord notification sent successfully
2025-10-03 23:05:15,231 - BotCore - INFO - üéì Checking AI model training status...
2025-10-03 23:05:15,232 - BotCore - INFO - üìä Fetching historical data for initial training...
2025-10-03 23:05:15,232 - DataManager - INFO - Fetching XAUUSD (XAU_USD) H1 data from OANDA...
2025-10-03 23:05:15,677 - DataManager - INFO - ƒê√£ l·∫•y 500 candles cho XAUUSD H1
2025-10-03 23:05:15,678 - BotCore - INFO - üìà Fetched 500 historical records for XAUUSD
2025-10-03 23:05:15,678 - DataManager - INFO - Fetching EURUSD (EUR_USD) H1 data from OANDA...
2025-10-03 23:05:15,678 - BotCore - WARNING - Rate limit cho oanda, ch·ªù 3.7s...
2025-10-03 23:05:15,678 - DataManager - WARNING - Kh√¥ng th·ªÉ l·∫•y d·ªØ li·ªáu cho EURUSD (EUR_USD) H1
2025-10-03 23:05:15,678 - DataManager - WARNING - OANDA variants cho EURUSD th·∫•t b·∫°i, th·ª≠ alternative APIs...
2025-10-03 23:05:15,678 - DataManager - INFO - üîç Fetching EURUSD via alternative data sources...
2025-10-03 23:05:15,678 - DataManager - INFO - Fetching EURUSD t·ª´ Yahoo Finance (simulation)...
2025-10-03 23:05:15,681 - DataManager - INFO - ‚úÖ Mock data created cho EURUSD: 100 candles
2025-10-03 23:05:15,681 - BotCore - INFO - üìà Fetched 100 historical records for EURUSD
2025-10-03 23:05:15,682 - BotCore - INFO - üîß Engineering features for training data to match prediction features...
2025-10-03 23:05:15,912 - FeatureEngineer - INFO - ƒê√£ t√≠nh to√°n 59 features cho XAUUSD
2025-10-03 23:05:15,912 - BotCore - INFO - ‚úÖ Engineered features for XAUUSD: 59 features
2025-10-03 23:05:15,912 - BotCore - INFO - ü§ñ Training ensemble model...
2025-10-03 23:05:15,965 - BotCore - INFO - Training targets distribution: {1: 195, 2: 162, 0: 143}
2025-10-03 23:05:15,965 - BotCore - INFO - Training ensemble model with XAUUSD: 59 features
2025-10-03 23:05:15,966 - MasterAgent - INFO - üéì Training AI models cho XAUUSD v·ªõi 500 data points...
2025-10-03 23:05:15,968 - MasterAgent - INFO - üéØ Starting Ensemble model training...
2025-10-03 23:05:15,989 - EnsembleModel - INFO - EnsembleModel storing feature names: ['open', 'high', 'low', 'volume', 'atr', 'adx', 'adx_pos', 'adx_neg', 'rsi', 'pivot', 'resistance_1', 'support_1', 'resistance_2', 'support_2', 'returns_5', 'returns_5_std', 'returns_10', 'returns_10_std', 'returns_20', 'returns_20_std', 'volatility', 'volatility_ratio', 'skew', 'kurtosis', 'sma_5', 'price_vs_sma_5', 'sma_10', 'price_vs_sma_10', 'sma_20', 'price_vs_sma_20', 'sma_50', 'price_vs_sma_50', 'sma_200', 'price_vs_sma_200', 'body_size', 'upper_shadow', 'lower_shadow', 'doji', 'hammer', 'bull_engulf', 'bear_engulf', 'hh', 'lh', 'hl', 'll', 'swing_high', 'swing_low', 'spring', 'upthrust', 'accumulation', 'distribution', 'distance_to_nearest_supply', 'distance_to_nearest_demand', 'bullish_rsi_div', 'bearish_rsi_div', 'regime_uptrend', 'regime_downtrend', 'regime_sideways']
2025-10-03 23:05:15,989 - EnsembleModel - INFO - Training ensemble with 499 samples, 58 features
2025-10-03 23:05:15,990 - EnsembleModel - INFO - Using default parameters for xgboost
2025-10-03 23:05:15,990 - EnsembleModel - INFO - Using default parameters for lightgbm
2025-10-03 23:05:15,990 - EnsembleModel - INFO - Using default parameters for random_forest
2025-10-03 23:05:15,990 - EnsembleModel - INFO - Training xgboost model...
2025-10-03 23:05:16,652 - EnsembleModel - INFO - ‚úÖ xgboost model trained successfully
2025-10-03 23:05:16,659 - EnsembleModel - INFO - Ho√†n th√†nh training xgboost
2025-10-03 23:05:16,659 - EnsembleModel - INFO - Training lightgbm model...
2025-10-03 23:05:16,936 - EnsembleModel - INFO - ‚úÖ lightgbm model trained successfully
2025-10-03 23:05:16,940 - EnsembleModel - INFO - Ho√†n th√†nh training lightgbm
2025-10-03 23:05:16,941 - EnsembleModel - INFO - Training random_forest model...
2025-10-03 23:05:17,290 - EnsembleModel - WARNING - random_forest returned 2 classes, expected 3. Padding with zeros.
2025-10-03 23:05:17,290 - EnsembleModel - INFO - ‚úÖ random_forest model trained successfully
2025-10-03 23:05:17,382 - EnsembleModel - INFO - Ho√†n th√†nh training random_forest
2025-10-03 23:05:17,389 - EnsembleModel - INFO - Ho√†n th√†nh ensemble training
2025-10-03 23:05:19,470 - EnsembleModel - INFO - Ensemble CV scores - Accuracy: 0.520, F1: 0.416
2025-10-03 23:05:19,472 - MasterAgent - INFO - ‚úÖ Ensemble training completed - Accuracy: 0.520
2025-10-03 23:05:19,472 - MasterAgent - INFO - üß† Starting LSTM model training...
2025-10-03 23:05:19,493 - EnsembleModel - INFO - LSTM training with 499 samples, 58 features
2025-10-03 23:05:19,493 - EnsembleModel - INFO - LSTM storing feature names: ['open', 'high', 'low', 'volume', 'atr', 'adx', 'adx_pos', 'adx_neg', 'rsi', 'pivot', 'resistance_1', 'support_1', 'resistance_2', 'support_2', 'returns_5', 'returns_5_std', 'returns_10', 'returns_10_std', 'returns_20', 'returns_20_std', 'volatility', 'volatility_ratio', 'skew', 'kurtosis', 'sma_5', 'price_vs_sma_5', 'sma_10', 'price_vs_sma_10', 'sma_20', 'price_vs_sma_20', 'sma_50', 'price_vs_sma_50', 'sma_200', 'price_vs_sma_200', 'body_size', 'upper_shadow', 'lower_shadow', 'doji', 'hammer', 'bull_engulf', 'bear_engulf', 'hh', 'lh', 'hl', 'll', 'swing_high', 'swing_low', 'spring', 'upthrust', 'accumulation', 'distribution', 'distance_to_nearest_supply', 'distance_to_nearest_demand', 'bullish_rsi_div', 'bearish_rsi_div', 'regime_uptrend', 'regime_downtrend', 'regime_sideways']
2025-10-03 23:05:19,493 - EnsembleModel - INFO - LSTM feature dimension set to 58
2025-10-03 23:05:19,794 - EnsembleModel - INFO - ƒê√£ x√¢y d·ª±ng ki·∫øn tr√∫c LSTM v·ªõi Attention
2025-10-03 23:05:19,816 - EnsembleModel - INFO - Training data shapes: X_seq=(449, 50, 58), y_seq=(449, 1)
2025-10-03 23:05:19,816 - EnsembleModel - INFO - Split data: train=359, val=90
2025-10-03 23:05:19,816 - EnsembleModel - INFO - Starting LSTM model training...
